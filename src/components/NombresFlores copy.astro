---
// ComponenteInvitacion.astro
---

<section class="relative bg-white w-full min-h-screen overflow-hidden">
    
    <!-- Imagen Principal con desvanecimiento -->
    <div class="relative w-full">
        <!-- Imagen principal -->
        <div class="relative w-full h-[500px] sm:h-[600px] md:h-[700px]">
            <img
                id="imagen-principal"
                src="/imagenes/fotoprincipal.webp"
                alt="Foto de los novios"
                class="w-full h-full object-cover"
            />
            
            <!-- Degradado de desvanecimiento -->
            <div id="degradado" class="absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-white to-transparent"></div>
        </div>
    </div>

    <!-- Texto de invitaci√≥n -->
    <div id="texto-invitacion" class="relative w-full px-6 py-8 text-center">
        <p class="font-serif text-gray-700 text-base sm:text-lg md:text-xl tracking-wide">
            TENEMOS EL HONOR<br />
            DE INVITARTE A NUESTRA BODA
        </p>
    </div>

    <!-- Contenedor del aro con nombres -->
    <div class="relative w-full flex justify-center pb-12">
        <div class="relative w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96">
            <!-- Imagen del aro -->
            <img
                id="aro-decorativo"
                src="/imagenes/aro.webp"
                alt="Aro decorativo"
                class="w-full h-full object-contain"
            />
            
            <!-- Nombres de los novios centrados -->
            <div class="absolute inset-0 flex flex-col items-center justify-center">
                <h2 id="nombre-camila" class="font-great-vibes text-5xl sm:text-6xl md:text-7xl text-[#C9A961] tracking-wide">
                    John
                </h2>
                <div id="ampersand-camila" class="text-[#C9A961] text-3xl sm:text-4xl md:text-5xl font-charm my-2">
                    &
                </div>
                <h2 id="nombre-alejandro" class="font-great-vibes text-5xl sm:text-6xl md:text-7xl text-[#C9A961] tracking-wide">
                    Damarys
                </h2>
            </div>
        </div>
    </div>

</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- üé¨ ANIMACIONES CON GSAP                                     -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
    import { gsap } from "gsap";

    document.addEventListener("DOMContentLoaded", () => {
        console.log("üéä Iniciando animaciones de invitaci√≥n...");

        // ‚ïê‚ïê‚ïê IMAGEN PRINCIPAL - Fade in desde arriba ‚ïê‚ïê‚ïê
        gsap.fromTo(
            "#imagen-principal",
            { opacity: 0, y: -50 },
            { opacity: 1, y: 0, duration: 1, ease: "power2.out", delay: 0 }
        );

        // ‚ïê‚ïê‚ïê DEGRADADO - Aparece despu√©s de la imagen ‚ïê‚ïê‚ïê
        gsap.fromTo(
            "#degradado",
            { opacity: 0 },
            { opacity: 1, duration: 0.8, ease: "power2.out", delay: 0.5 }
        );

        // ‚ïê‚ïê‚ïê TEXTO DE INVITACI√ìN - Fade in desde abajo ‚ïê‚ïê‚ïê
        gsap.fromTo(
            "#texto-invitacion",
            { opacity: 0, y: 30 },
            { opacity: 1, y: 0, duration: 0.8, ease: "power2.out", delay: 0.8 }
        );

        // ‚ïê‚ïê‚ïê ARO DECORATIVO - Scale desde el centro ‚ïê‚ïê‚ïê
        gsap.fromTo(
            "#aro-decorativo",
            { opacity: 0, scale: 0.3, rotation: -10 },
            { opacity: 1, scale: 1, rotation: 0, duration: 1, ease: "back.out(1.7)", delay: 1.2 }
        );

        // ‚ïê‚ïê‚ïê NOMBRE CAMILA - Letra por letra ‚ïê‚ïê‚ïê
        const textoCamila = "Jhon";
        const contenedorCamila = document.getElementById("nombre-camila");
        if (contenedorCamila) {
            contenedorCamila.innerHTML = textoCamila
                .split("")
                .map(
                    (letra, index) =>
                        `<span class="letra-animada" style="
                            opacity: 0; 
                            display: inline-block; 
                            transform: translateY(20px) scale(0.8);
                            filter: blur(3px);
                        ">${letra}</span>`
                )
                .join("");

            gsap.to("#nombre-camila .letra-animada", {
                opacity: 1,
                y: 0,
                scale: 1,
                filter: "blur(0px)",
                duration: 0.5,
                ease: "power2.out",
                stagger: { each: 0.05, from: "start" },
                delay: 1.6
            });
        }

        // ‚ïê‚ïê‚ïê S√çMBOLO & - Scale con bounce ‚ïê‚ïê‚ïê
        gsap.fromTo(
            "#ampersand-camila",
            { opacity: 0, scale: 0.5 },
            { opacity: 1, scale: 1, duration: 0.6, ease: "back.out(2)", delay: 2 }
        );

        // ‚ïê‚ïê‚ïê NOMBRE ALEJANDRO - Letra por letra ‚ïê‚ïê‚ïê
        const textoAlejandro = "Damarys";
        const contenedorAlejandro = document.getElementById("nombre-alejandro");
        if (contenedorAlejandro) {
            contenedorAlejandro.innerHTML = textoAlejandro
                .split("")
                .map(
                    (letra, index) =>
                        `<span class="letra-animada" style="
                            opacity: 0; 
                            display: inline-block; 
                            transform: translateY(20px) scale(0.8);
                            filter: blur(3px);
                        ">${letra}</span>`
                )
                .join("");

            gsap.to("#nombre-alejandro .letra-animada", {
                opacity: 1,
                y: 0,
                scale: 1,
                filter: "blur(0px)",
                duration: 0.5,
                ease: "power2.out",
                stagger: { each: 0.05, from: "start" },
                delay: 2.2
            });
        }

        // ‚ïê‚ïê‚ïê ROTACI√ìN SUAVE DEL ARO (loop infinito) ‚ïê‚ïê‚ïê
        gsap.to("#aro-decorativo", {
            rotation: 5,
            duration: 3,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 3
        });

        console.log("‚ú® Animaciones completadas!");
    });
</script>

<style>
    /* Asegurar que las im√°genes carguen correctamente */
    img {
        display: block;
    }
    
    /* Efecto hover en letras animadas */
    .letra-animada {
        transition: all 0.3s ease;
        will-change: transform, opacity, filter;
        position: relative;
    }

    .letra-animada:hover {
        transform: translateY(-3px) scale(1.1) !important;
        text-shadow: 0 0 15px rgba(201, 169, 97, 0.5) !important;
    }
</style>